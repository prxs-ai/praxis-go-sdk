<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1008px" preserveAspectRatio="none" style="width:745px;height:1008px;background:#FFFFFF;" version="1.1" viewBox="0 0 745 1008" width="745px" zoomAndPan="magnify"><title>MCP Bridge Tool Processing</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="202.0156" x="264.9244" y="23.5352">MCP Bridge Tool Processing</text></g><!--cluster P2P Layer--><g class="cluster" data-entity="P2P Layer" data-source-line="3" data-uid="ent0002" id="cluster_P2P Layer"><rect fill="none" height="220.98" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="277" x="69" y="44.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70.123" x="172.4385" y="60.0234">P2P Layer</text></g><!--cluster MCP Server--><g class="cluster" data-entity="MCP Server" data-source-line="8" data-uid="ent0005" id="cluster_MCP Server"><rect fill="none" height="467.95" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="367" x="7" y="314.4683"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="81.3203" x="149.8398" y="330.0034">MCP Server</text></g><!--cluster Tools--><g class="cluster" data-entity="Tools" data-source-line="16" data-uid="ent0011" id="cluster_Tools"><rect fill="none" height="97.49" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="543" x="161" y="831.4183"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="40.0107" x="412.4946" y="846.9534">Tools</text></g><!--entity Stream--><g class="entity" data-entity="Stream" data-source-line="4" data-uid="ent0003" id="entity_Stream"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.3896" x="120.31" y="79.4883"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="273.6996" y="84.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="271.6996" y="86.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="271.6996" y="90.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.3896" x="135.31" y="113.0234">P2P Stream Handler</text></g><!--entity Proto--><g class="entity" data-entity="Proto" data-source-line="5" data-uid="ent0004" id="entity_Proto"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.2441" x="125.38" y="202.9783"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="258.6241" y="207.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="256.6241" y="209.9783"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="256.6241" y="213.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.2441" x="140.38" y="236.5134">Protocol Handler</text></g><!--entity Router--><g class="entity" data-entity="Router" data-source-line="9" data-uid="ent0006" id="entity_Router"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.6602" x="23.17" y="349.4683"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="146.8302" y="354.4683"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.8302" y="356.4683"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.8302" y="360.4683"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6602" x="38.17" y="383.0034">Request Router</text></g><!--entity Resolver--><g class="entity" data-entity="Resolver" data-source-line="10" data-uid="ent0007" id="entity_Resolver"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.7383" x="42.13" y="472.9583"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="153.8683" y="477.9583"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="151.8683" y="479.9583"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="151.8683" y="483.9583"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.7383" x="57.13" y="506.4934">Tool Resolver</text></g><!--entity Builder--><g class="entity" data-entity="Builder" data-source-line="11" data-uid="ent0008" id="entity_Builder"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.4297" x="201.79" y="349.4683"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="338.2197" y="354.4683"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="336.2197" y="356.4683"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="336.2197" y="360.4683"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.4297" x="216.79" y="383.0034">Response Builder</text></g><!--entity Registry--><g class="entity" data-entity="Registry" data-source-line="12" data-uid="ent0009" id="entity_Registry"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.373" x="80.31" y="596.4383"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="189.683" y="601.4383"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="187.683" y="603.4383"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="187.683" y="607.4383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.373" x="95.31" y="629.9734">Tool Registry</text></g><!--entity Handlers--><g class="entity" data-entity="Handlers" data-source-line="13" data-uid="ent0010" id="entity_Handlers"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.7598" x="88.62" y="719.9283"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="203.3798" y="724.9283"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="201.3798" y="726.9283"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="201.3798" y="730.9283"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.7598" x="103.62" y="753.4634">Tool Handlers</text></g><!--entity Tool1--><g class="entity" data-entity="Tool1" data-source-line="17" data-uid="ent0012" id="entity_Tool1"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.6396" x="177.18" y="866.4183"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="258.8196" y="871.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="256.8196" y="873.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="256.8196" y="877.4183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.6396" x="192.18" y="899.9534">write_file</text></g><!--entity Tool2--><g class="entity" data-entity="Tool2" data-source-line="18" data-uid="ent0013" id="entity_Tool2"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.1123" x="313.94" y="866.4183"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="392.0523" y="871.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="390.0523" y="873.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="390.0523" y="877.4183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.1123" x="328.94" y="899.9534">read_file</text></g><!--entity Tool3--><g class="entity" data-entity="Tool3" data-source-line="19" data-uid="ent0014" id="entity_Tool3"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.6445" x="447.18" y="866.4183"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="522.8245" y="871.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="520.8245" y="873.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="520.8245" y="877.4183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.6445" x="462.18" y="899.9534">list_files</text></g><!--entity Tool4--><g class="entity" data-entity="Tool4" data-source-line="20" data-uid="ent0015" id="entity_Tool4"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.5352" x="578.23" y="866.4183"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="667.7652" y="871.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="665.7652" y="873.4183"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="665.7652" y="877.4183"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.5352" x="593.23" y="899.9534">delete_file</text></g><g class="entity" data-entity="GMN25" data-source-line="33" data-uid="ent0026" id="entity_GMN25"><path d="M389.52,607.0283 L389.52,632.3388 L578.479,632.3388 L578.479,617.0283 L568.479,607.0283 L389.52,607.0283" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M568.479,607.0283 L568.479,617.0283 L578.479,617.0283 L568.479,607.0283" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.959" x="395.52" y="624.5966">Tools registered at startup</text></g><g class="entity" data-entity="GMN28" data-source-line="35" data-uid="ent0029" id="entity_GMN28"><path d="M527.13,975.9083 L527.13,1001.2188 A0,0 0 0 0 527.13,1001.2188 L738.8644,1001.2188 A0,0 0 0 0 738.8644,1001.2188 L738.8644,985.9083 L728.8644,975.9083 L637,975.9083 L633,913.1383 L629,975.9083 L527.13,975.9083 A0,0 0 0 0 527.13,975.9083" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M728.8644,975.9083 L728.8644,985.9083 L738.8644,985.9083 L728.8644,975.9083" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.7344" x="533.13" y="993.4766">Standard MCP filesystem tools</text></g><!--link Stream to Proto--><g class="link" data-entity-1="Stream" data-entity-2="Proto" data-source-line="23" data-uid="lnk16" id="link_Stream_Proto"><path d="M147.64,126.3883 C135.42,133.8983 124.12,143.6083 117,155.9783 C106.08,174.9483 116.8856,187.9156 137.8756,199.6756" fill="none" id="Stream-to-Proto" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="143.11,202.6083,137.2135,194.7196,138.748,200.1644,133.3032,201.6989,143.11,202.6083" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9263" x="118" y="169.5466">P2P Message</text></g><!--link Proto to Stream--><g class="link" data-entity-1="Proto" data-entity-2="Stream" data-source-line="31" data-uid="lnk24" id="link_Proto_Stream"><path d="M202.92,202.7783 C203.82,180.9983 204.9227,154.1132 205.8227,132.2932" fill="none" id="Proto-to-Stream" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="206.07,126.2983,201.7025,135.1258,205.8639,131.294,209.6957,135.4555,206.07,126.2983" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8994" x="205.8" y="169.5466">P2P Response</text></g><!--link Proto to Router--><g class="link" data-entity-1="Proto" data-entity-2="Router" data-source-line="24" data-uid="lnk17" id="link_Proto_Router"><path d="M172.24,249.8083 C161.54,258.8783 149.92,269.9183 141,281.4683 C124.77,302.4783 113.9949,324.5628 105.9949,343.6928" fill="none" id="Proto-to-Router" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="103.68,349.2283,110.8426,342.4683,105.6091,344.6154,103.462,339.3818,103.68,349.2283" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.9355" x="142" y="295.0366">MCP Request</text></g><!--link Router to Resolver--><g class="link" data-entity-1="Router" data-entity-2="Resolver" data-source-line="25" data-uid="lnk18" id="link_Router_Resolver"><path d="M97.41,396.2783 C99.75,418.0983 102.6318,445.0023 104.9618,466.7823" fill="none" id="Router-to-Resolver" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="105.6,472.7483,108.62,463.3739,105.0681,467.7766,100.6653,464.2248,105.6,472.7483" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.0396" x="103.28" y="439.5266">Find Tool</text></g><!--link Resolver to Registry--><g class="link" data-entity-1="Resolver" data-entity-2="Registry" data-source-line="26" data-uid="lnk19" id="link_Resolver_Registry"><path d="M114.87,519.7683 C121.52,541.5883 129.7827,568.7183 136.4127,590.4983" fill="none" id="Resolver-to-Registry" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="138.16,596.2383,139.3657,586.4635,136.7039,591.455,131.7124,588.7932,138.16,596.2383" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.7505" x="129.72" y="563.0066">Lookup</text></g><!--link Registry to Handlers--><g class="link" data-entity-1="Registry" data-entity-2="Handlers" data-source-line="27" data-uid="lnk20" id="link_Registry_Handlers"><path d="M147.04,643.2583 C149.02,665.0783 151.4595,691.9727 153.4295,713.7527" fill="none" id="Registry-to-Handlers" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="153.97,719.7283,157.143,710.4045,153.5196,714.7486,149.1755,711.1252,153.97,719.7283" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.915" x="152.16" y="686.4966">Get Handler</text></g><!--link Handlers to Tool1--><g class="link" data-entity-1="Handlers" data-entity-2="Tool1" data-source-line="28" data-uid="lnk21" id="link_Handlers_Tool1"><path d="M167.25,766.7483 C180.78,793.8983 200.6647,833.7978 214.1547,860.8778" fill="none" id="Handlers-to-Tool1" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="216.83,866.2483,216.3973,856.4089,214.6005,861.7728,209.2366,859.9761,216.83,866.2483" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.0928" x="190.84" y="811.9866">Execute</text></g><!--link Tool1 to Builder--><g class="link" data-entity-1="Tool1" data-entity-2="Builder" data-source-line="29" data-uid="lnk22" id="link_Tool1_Builder"><path d="M241.66,866.0483 C257.07,838.3383 280,789.4983 280,744.1783 C280,495.1983 280,495.1983 280,495.1983 C280,460.6083 280,426.4783 280,402.0983" fill="none" id="Tool1-to-Builder" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="280,396.0983,276,405.0983,280,401.0983,284,405.0983,280,396.0983" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.7778" x="281" y="624.7566">Result</text></g><!--link Builder to Proto--><g class="link" data-entity-1="Builder" data-entity-2="Proto" data-source-line="30" data-uid="lnk23" id="link_Builder_Proto"><path d="M267.9,349.2883 C253.28,322.2183 231.69,282.2182 217.04,255.0782" fill="none" id="Builder-to-Proto" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="214.19,249.7983,214.9451,259.6181,216.565,254.1982,221.985,255.8181,214.19,249.7983" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.6855" x="239.66" y="295.0366">MCP Response</text></g><!--link Registry to GMN25--><g class="link" data-entity-1="Registry" data-entity-2="GMN25" data-source-line="33" data-uid="lnk27" id="link_Registry_GMN25"><path d="M176.63,596.0383 C197.54,581.9383 226.21,565.3683 254.5,557.9383 C298.35,546.4283 312.31,547.8083 356.5,557.9383 C397.25,567.2883 440.11,591.4483 464.3,606.6283" fill="none" id="Registry-GMN25" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[NL4xJmCn3DxpAwpk7IXC30n5F8PMEhLi2A5mSO-8z58INw52_7Vi91TTsUBl4TkVoP93MDysi0pMT0XFtZjeWcynHjjtIWLiIVSTgsRDee6LFc6OmOy2U9PwIm7r7XvrRno65z2nG4aGFFcMFvpI2LI_Pp_B05iCn_hr1Zy7Z0GRFr3nvQUGQSODHk-E8rUAR8q7tqU4vM2TAOBodhWx6ocSYZiNbItZniIEnR-HHHZBj5_14hxkhCFa4Ef2SCx1dCCBWHrtIt2i-ANW1Xt-_-TAsfQGv_ERd1vSWsI_vXlf3bN6XCqPCIs1bWnL0HDVScB5lUrDwg0gc1Kv2rQilFyO3geYGezXCFs0D9Qgmg99wxFWxXjRxgnoBKov0dFSSt2aHc2wMHuztt2oMiaWRrvvrNj22BPx9_2xwVJfFX0IW04DQ898EX2lb5rldiZlnPQ2Pi-MZsjqC6c6TA0Jc_T0yfVw0m00]--></g></svg>
