<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="715px" preserveAspectRatio="none" style="width:664px;height:715px;background:#FFFFFF;" version="1.1" viewBox="0 0 664 715" width="664px" zoomAndPan="magnify"><title>P2P Discovery via mDNS</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="175.7725" x="240.3821" y="28.5352">P2P Discovery via mDNS</text><g><title>Agent 1</title><rect fill="#000000" fill-opacity="0.00000" height="606.2793" width="8" x="34.6978" y="73.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="73.9766" y2="680.2559"/></g><g><title>mDNS Service</title><rect fill="#000000" fill-opacity="0.00000" height="606.2793" width="8" x="175.2827" y="73.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="178.6821" x2="178.6821" y1="73.9766" y2="680.2559"/></g><g><title>Local Network</title><rect fill="#000000" fill-opacity="0.00000" height="606.2793" width="8" x="308.8179" y="73.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="312.7578" x2="312.7578" y1="73.9766" y2="680.2559"/></g><g><title>Agent 2</title><rect fill="#000000" fill-opacity="0.00000" height="606.2793" width="8" x="512.9517" y="73.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="516.2539" x2="516.2539" y1="73.9766" y2="680.2559"/></g><g class="participant participant-head" data-participant="A1"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.3955" x="5" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3955" x="12" y="63.0234">Agent 1</text></g><g class="participant participant-tail" data-participant="A1"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.3955" x="5" y="679.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3955" x="12" y="699.791">Agent 1</text></g><g class="participant participant-head" data-participant="mDNS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.2012" x="125.6821" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.2012" x="132.6821" y="63.0234">mDNS Service</text></g><g class="participant participant-tail" data-participant="mDNS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.2012" x="125.6821" y="679.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.2012" x="132.6821" y="699.791">mDNS Service</text></g><g class="participant participant-head" data-participant="Net"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1201" x="257.7578" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1201" x="264.7578" y="63.0234">Local Network</text></g><g class="participant participant-tail" data-participant="Net"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1201" x="257.7578" y="679.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1201" x="264.7578" y="699.791">Local Network</text></g><g class="participant participant-head" data-participant="A2"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.3955" x="483.2539" y="42.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3955" x="490.2539" y="63.0234">Agent 2</text></g><g class="participant participant-tail" data-participant="A2"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.3955" x="483.2539" y="679.2559"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.3955" x="490.2539" y="699.791">Agent 2</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="657.5366" x="0" y="104.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="104.6318" y2="104.6318"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="107.6318" y2="107.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="66.9521" x="295.2922" y="93.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="48.6675" x="301.2922" y="110.5449">Startup</text><g class="message" data-participant-1="A1" data-participant-2="mDNS"><polygon fill="#181818" points="167.2827,144.5977,177.2827,148.5977,167.2827,152.5977,171.2827,148.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.6978" x2="173.2827" y1="148.5977" y2="148.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.4424" x="45.6978" y="143.8555">Register Service</text></g><g class="message" data-participant-1="A2" data-participant-2="mDNS"><polygon fill="#181818" points="190.2827,173.9082,180.2827,177.9082,190.2827,181.9082,186.2827,177.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="184.2827" x2="515.9517" y1="177.9082" y2="177.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.4424" x="196.2827" y="173.166">Register Service</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="657.5366" x="0" y="206.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="206.5635" y2="206.5635"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="209.5635" y2="209.5635"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="121.2754" x="268.1306" y="195.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102.9907" x="274.1306" y="212.4766">Discovery Loop</text><g class="message" data-participant-1="mDNS" data-participant-2="Net"><polygon fill="#181818" points="300.8179,246.5293,310.8179,250.5293,300.8179,254.5293,304.8179,250.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="179.2827" x2="306.8179" y1="250.5293" y2="250.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.5352" x="186.2827" y="245.7871">Broadcast Service</text></g><g class="message" data-participant-1="A1" data-participant-2="Net"><polygon fill="#181818" points="300.8179,275.8398,310.8179,279.8398,300.8179,283.8398,304.8179,279.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.6978" x2="306.8179" y1="279.8398" y2="279.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.1338" x="45.6978" y="275.0977">Agent-1 at 172.20.0.2:4001</text></g><g class="message" data-participant-1="A2" data-participant-2="Net"><polygon fill="#181818" points="323.8179,305.1504,313.8179,309.1504,323.8179,313.1504,319.8179,309.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="317.8179" x2="515.9517" y1="309.1504" y2="309.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.1338" x="329.8179" y="304.4082">Agent-2 at 172.20.0.3:4002</text></g><g class="message" data-participant-1="A1" data-participant-2="A1"><line style="stroke:#181818;stroke-width:1;" x1="38.6978" x2="80.6978" y1="338.4609" y2="338.4609"/><line style="stroke:#181818;stroke-width:1;" x1="80.6978" x2="80.6978" y1="338.4609" y2="351.4609"/><line style="stroke:#181818;stroke-width:1;" x1="39.6978" x2="80.6978" y1="351.4609" y2="351.4609"/><polygon fill="#181818" points="49.6978,347.4609,39.6978,351.4609,49.6978,355.4609,45.6978,351.4609" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.585" x="45.6978" y="333.7188">Discovered Agent-2</text></g><g class="message" data-participant-1="A2" data-participant-2="A2"><line style="stroke:#181818;stroke-width:1;" x1="516.9517" x2="558.9517" y1="380.7715" y2="380.7715"/><line style="stroke:#181818;stroke-width:1;" x1="558.9517" x2="558.9517" y1="380.7715" y2="393.7715"/><line style="stroke:#181818;stroke-width:1;" x1="517.9517" x2="558.9517" y1="393.7715" y2="393.7715"/><polygon fill="#181818" points="527.9517,389.7715,517.9517,393.7715,527.9517,397.7715,523.9517,393.7715" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.585" x="523.9517" y="376.0293">Discovered Agent-1</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="657.5366" x="0" y="422.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="422.4268" y2="422.4268"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="425.4268" y2="425.4268"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="93.7964" x="281.8701" y="411.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="75.5117" x="287.8701" y="428.3398">Connection</text><g class="message" data-participant-1="A1" data-participant-2="A2"><polygon fill="#181818" points="504.9517,462.3926,514.9517,466.3926,504.9517,470.3926,508.9517,466.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.6978" x2="510.9517" y1="466.3926" y2="466.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.8496" x="45.6978" y="461.6504">TCP Connect port 4002</text></g><g class="message" data-participant-1="A1" data-participant-2="A2"><polygon fill="#181818" points="49.6978,491.7031,39.6978,495.7031,49.6978,499.7031,45.6978,495.7031" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="504.9517,491.7031,514.9517,495.7031,504.9517,499.7031,508.9517,495.7031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.6978" x2="510.9517" y1="495.7031" y2="495.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9639" x="55.6978" y="490.9609">TLS Handshake</text></g><g class="message" data-participant-1="A1" data-participant-2="A2"><polygon fill="#181818" points="49.6978,521.0137,39.6978,525.0137,49.6978,529.0137,45.6978,525.0137" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="504.9517,521.0137,514.9517,525.0137,504.9517,529.0137,508.9517,525.0137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.6978" x2="510.9517" y1="525.0137" y2="525.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.2637" x="55.6978" y="520.2715">Protocol Negotiation</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="657.5366" x="0" y="553.6689"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="553.6689" y2="553.6689"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="657.5366" y1="556.6689" y2="556.6689"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="117.3145" x="270.1111" y="543.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99.0298" x="276.1111" y="559.582">Card Exchange</text><g class="message" data-participant-1="A1" data-participant-2="A2"><polygon fill="#181818" points="504.9517,593.6348,514.9517,597.6348,504.9517,601.6348,508.9517,597.6348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.6978" x2="510.9517" y1="597.6348" y2="597.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3862" x="45.6978" y="592.8926">Send Agent-1 Card</text></g><g class="message" data-participant-1="A2" data-participant-2="A1"><polygon fill="#181818" points="49.6978,622.9453,39.6978,626.9453,49.6978,630.9453,45.6978,626.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.6978" x2="515.9517" y1="626.9453" y2="626.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3862" x="55.6978" y="622.2031">Send Agent-2 Card</text></g><path d="M7,639.9453 L7,664.9453 L547,664.9453 L547,649.9453 L537,639.9453 L7,639.9453" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M537,639.9453 L537,649.9453 L547,649.9453 L537,639.9453" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.5088" x="164.0703" y="657.5137">Peers know each other capabilities</text><!--SRC=[VP71QiCm44Jl-eebvoPOQg5WweAR57e8mTJzWQsysCAfriXgqlvzPJbEOWWzIJ1lPsObR_oUe505R4ol-K3k5mu6uMkpAuNeq7cZJOVMmoAlAHno0TX3BkVQW4D9xc0qHI3Epv0jQzp3ZloHNHkPSB-LeCO49KIMGUa3yDr1bebSml8v6gVmJhNfFRafK-Jg7t4mkgotPOv-iNCO2ZLIU76CbSRUNnpbMOozbX8mhF-eLYfP9IkLFYI9FELUKMf6tGzKs6GqosLwxa7LD73ooDKDKSRkQxQMj3TiB-ymu1_hOjAWO-SXXWNzQGAs9RoXhVe6MxeM2iUUDG__KRCtE7YFKUWgUFtH3TgQvcabsNEjo4t5vKnJeoOiUu9XcG3SnKmYrqDh-GY4kW7sJH0rTlXfziORwiKV]--></g></svg>