@startuml
title Praxis P2P Agent System Architecture

package "Agent 1" {
  [HTTP API 8000] as API1
  [DSL Orchestrator] as DSL1
  [Agent Core] as Core1
  [P2P Handler] as P2P1
  [LLM Client] as LLM1
  
  API1 --> DSL1
  DSL1 --> Core1
  DSL1 --> LLM1
  Core1 --> P2P1
}

package "Agent 2" {
  [HTTP API 8001] as API2
  [Agent Core] as Core2
  [P2P Handler] as P2P2
  [MCP Server] as Bridge2
  [Filesystem Tools] as FS2
  
  P2P2 --> Core2
  Core2 --> Bridge2
  Bridge2 --> FS2
}

cloud "libp2p Network" {
  [mDNS Discovery] as mDNS
  [P2P Streams] as Streams
}

P2P1 <--> Streams
P2P2 <--> Streams
P2P1 <..> mDNS : discover
P2P2 <..> mDNS : discover

database "Shared Volume" as Volume
FS2 --> Volume

note top : Agent 1 focuses on DSL processing and LLM integration
note bottom : Agent 2 specializes in filesystem operations

@enduml